\begin{figure*} %{r}{7cm} %[12]
  \centering
\begin{subfigure}[h]{0.30\textwidth} %22 min
%\begin{subfigure}
\lstset{numbers=left,xleftmargin=2em, numberstyle=\color{lightgray}
} %frame=single,framexleftmargin=1.5em}
\begin{lstlisting}[style=Python, escapechar=|,numbersep=2pt]
def bsearch(x, v, n):
  low, high = 0, n-1
  while low <= high:
    mid=(low+high)/2
    if x < v[mid]:
      high=mid-1
    else:
      if x > v[mid]:
        low=mid+1
      else:
        return mid
  return None
\end{lstlisting}
\vspace{60pt}
\end{subfigure}
\begin{subfigure}[h]{0.30\textwidth} %25 min
%\begin{subfigure}
\lstset{numbers=left,xleftmargin=2em,
numberstyle=\color{lightgray}
} %frame=single,framexleftmargin=1.5em}
\begin{lstlisting}[style=Python, escapechar=|,numbersep=2pt]
def bsearch(x, v, n):
  low, high = 0, n-1
  while True:
    r1_ = low <= high
    if r1_:
      mid = (low+high)/2
      r2_ = x < v[mid]
      if r2_:
        high = mid-1
      else:
        r3_ = x > v[mid]
        if r3_:
          low = mid+1
        else:
          return mid
    else:
      break
  return None
\end{lstlisting}
\end{subfigure}
\begin{subfigure}[h]{0.30\textwidth}   %28 min
\begin{grammar}%\centering
  <bsearch> $\rightarrow$ l.2 <while.3> l.18

  <while.3> $\rightarrow$ $\epsilon$
   \alt l.4 <if.5> <while.3>

  <if.5>    $\rightarrow$ l.6 l.7 <if.8>
   \alt l.17

  <if.8> $\rightarrow$ l.9
   \alt l.11 <if.12>

  <if.12> $\rightarrow$ l.13
    \alt l.15
\end{grammar}
\end{subfigure}
\vspace{10pt}
\caption{Extracting the context-free grammar for \<bsearch>}
\label{fig:bsearch}
\end{figure*}
